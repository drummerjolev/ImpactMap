
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- don't forget to write stuff in here -->

    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>MSF ImpactMap</title>

    <!-- Bootstrap core CSS -->
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet">

    <!-- Style for DatePicker -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/css/bootstrap-datepicker.min.css" />

    <!-- Style for Select2 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2-rc.1/css/select2.min.css" rel="stylesheet" />

    <!-- Style for Leaflet -->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />

    <!-- Style for Mapbox -->
    <link href='https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.css' rel='stylesheet' />

  </head>

  <body>

    <!-- Begin page content -->
    <div class="container">

      <div class="page-header">
        <h1>Hello World</h1>        
      </div>

       <div id="map"></div>

    </div>

    <footer class="footer">
      <div class="container">
        <p class="text-muted">Place sticky footer content here.</p>
      </div>
    </footer>

     <script src='https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.js'></script>

    <!-- JQuery import via CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/js/bootstrap-datepicker.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2-rc.1/js/select2.min.js"></script>

    <!-- Leaflet JS import -->

    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-osm/v0.1.0/leaflet-osm.js'></script>

    <script>
    /*

    var xmlhttp = new XMLHttpRequest();
    var url = "/geojson.json";

    var geojson;

    xmlhttp.onreadystatechange = function() {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            var geojson = JSON.stringify(JSON.parse(xmlhttp.responseText));
            console.log(geojson)
        }
    };    

    xmlhttp.open("GET", url, true);
    xmlhttp.send();

      L.mapbox.accessToken = 'pk.eyJ1IjoiamF6b25zeiIsImEiOiJjaWtzZ2J2N3kwMDFpdzBqNzF6eGY3bGNzIn0.oeMS0nJIKd-V65U1wazozA';

      var geojson = [
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [-77.03238901390978,38.913188059745586]
          },
          "properties": {
            "title": "Mapbox DC",
            "description": "1714 14th St NW, Washington DC",
            "marker-color": "#fc4353",
            "marker-size": "large",
            "marker-symbol": "monument"
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [-122.414, 37.776]
          },
          "properties": {
            "title": "Mapbox SF",
            "description": "155 9th St, San Francisco",
            "marker-color": "#fc4353",
            "marker-size": "large",
            "marker-symbol": "harbor"
          }
        }
      ];

      L.mapbox.map('map', 'mapbox.streets')
        .setView([37.8, -96], 4)
        .featureLayer.setGeoJSON(geojson);*/

        L.mapbox.accessToken = 'pk.eyJ1IjoiamF6b25zeiIsImEiOiJjaWtzZ2J2N3kwMDFpdzBqNzF6eGY3bGNzIn0.oeMS0nJIKd-V65U1wazozA';
var map = L.mapbox.map('map', 'mapbox.streets');

$.ajax({
    url: "https://www.openstreetmap.org/api/0.6/way/260501602/full",
    dataType: "xml",
    success: function (xml) {
        var layer = new L.OSM.DataLayer(xml).addTo(map);
        map.fitBounds(layer.getBounds());
    }
});
    </script>

  </body>
</html>
